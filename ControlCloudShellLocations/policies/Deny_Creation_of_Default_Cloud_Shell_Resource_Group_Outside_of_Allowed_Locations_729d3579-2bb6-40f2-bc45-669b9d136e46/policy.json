{
 "properties": {
  "displayName": "Deny Creation of Default Cloud Shell Resource Group Outside of Allowed Locations",
  "policyType": "Custom",
  "mode": "All",
  "description": "DENY creation of NEW Cloud Shell Resource Groups  outside of Allowed Locations. \nUse this Policy to prevent the creation of DEFAULT Cloud Shell Resoure Groups outside of Allowed Locations.\nThere is no way to specifically prevent the creation fo CUSTOM Cloud Shell Resource Groups outside of Allowed Locations. \nTo prevent the creation of CUSTOM Cloud Shell Storage Accounts outside of Allowed Locatons use \"Deny Creation of  Cloud Shell Storage Accounts Outside of Allowed Locations\" ",
  "metadata": {
   "category": "Cloud Shell",
   "createdBy": "234928bf-ebad-4a8f-bff1-99b084a1dfab",
   "createdOn": "2020-12-09T18:21:45.9674986Z",
   "updatedBy": "234928bf-ebad-4a8f-bff1-99b084a1dfab",
   "updatedOn": "2020-12-09T20:35:02.6475027Z"
  },
  "parameters": {
   "listOfAllowedLocations": {
    "type": "Array",
    "metadata": {
     "displayName": "Allowed locations",
     "description": "The list of locations that resource groups can be created in.",
     "strongType": "location"
    }
   }
  },
  "policyRule": {
   "if": {
    "allOf": [
     {
      "field": "type",
      "equals": "Microsoft.Resources/subscriptions/resourceGroups"
     },
     {
      "field": "location",
      "notIn": "[parameters('listOfAllowedLocations')]"
     },
     {
      "field": "name",
      "like": "cloud-shell-storage-*"
     }
    ]
   },
   "then": {
    "effect": "deny"
   }
  }
 },
 "id": "/subscriptions/5cdbfcaf-435b-4ef9-96e2-b7c24fa1c180/providers/Microsoft.Authorization/policyDefinitions/729d3579-2bb6-40f2-bc45-669b9d136e46",
 "type": "Microsoft.Authorization/policyDefinitions",
 "name": "729d3579-2bb6-40f2-bc45-669b9d136e46"
}